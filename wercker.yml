# Copyright 2017, Oracle Corporation and/or affiliates.  All rights reserved.

# This is a sample that demonstrates how to use the Java Flight Recorder 
# Wercker step. 
#

box: 
  id: store/oracle/serverjre
  username: $DOCKER_USERNAME
  password: $DOCKER_PASSWORD
  tag: 8

dev:
  steps:
    - script:
      name: "Hello" 
      code: | 
        echo "I don't do anything yet"      
        date
    - markxnelson/java-flight-recorder@0.1.15 "https://github.com/markxnelson/java-flight-recorder/archive/master.tar.gz":
      application: com.oracle.sample.SampleApplication
      classpath: /pipeline/source/target/production/sample-jfr-step
      filename: myrecording.jfr
      experimental: true
      duration: 4m
      delay: 30s 
